# 📋 Deployment Checklist

Use this checklist to ensure a smooth deployment to Render.

## ✅ Pre-Deployment

- [x] **config.js** created with environment variable support
- [x] All service files updated to use config
- [x] All components updated to use config for avatar URLs
- [x] Backend CORS updated to use environment variables
- [x] Backend config updated to support environment variables

## 📝 Files Modified

### Frontend
- ✅ `frontend/src/config.js` - Created with env var support
- ✅ `frontend/src/services/authService.ts` - Uses config
- ✅ `frontend/src/services/chatService.ts` - Uses config
- ✅ `frontend/src/services/userService.ts` - Uses config
- ✅ `frontend/src/services/timeTrackingService.ts` - Uses config
- ✅ `frontend/src/services/adminService.ts` - Uses config
- ✅ `frontend/src/services/leaveService.ts` - Uses config
- ✅ `frontend/src/services/roleService.ts` - Uses config
- ✅ `frontend/src/services/permissionService.ts` - Uses config
- ✅ `frontend/src/components/Layout/Header.tsx` - Uses config for avatars
- ✅ `frontend/src/components/Search/UniversalSearch.tsx` - Uses config for avatars
- ✅ `frontend/src/pages/EmployeeProfile/EmployeeProfilePage.tsx` - Uses config for avatars
- ✅ `frontend/src/components/orgchart/DraggableOrgChart.tsx` - Uses config for avatars
- ✅ `frontend/src/components/Chat/ChatMessage.tsx` - Uses config for avatars
- ✅ `frontend/src/components/Profile/ProfileInfoCard.tsx` - Uses config for avatars
- ✅ `frontend/src/pages/UserManagement/UserManagementPage.tsx` - Uses config
- ✅ `frontend/src/components/Chat/ChatSidebar.tsx` - Uses config

### Backend
- ✅ `backend/app/main.py` - CORS updated to use env vars
- ✅ `backend/app/core/config.py` - Config updated to support env vars

### Deployment Files
- ✅ `render.yaml` - Blueprint configuration created
- ✅ `DEPLOYMENT_GUIDE.md` - Comprehensive guide created
- ✅ `QUICK_DEPLOY.md` - Quick start guide created

## 🚀 Deployment Steps

### 1. Prepare Repository
```bash
git add .
git commit -m "Configure for Render deployment"
git push origin main
```

### 2. Deploy on Render

#### Backend Service
1. Create new Web Service
2. Set environment variables:
   - `SECRET_KEY` (generate)
   - `ALLOWED_ORIGINS` (your frontend URL)
3. Copy backend URL

#### Frontend Service
1. Create new Static Site
2. Set environment variable:
   - `REACT_APP_API_URL` (your backend URL)
3. Copy frontend URL

#### Update CORS
1. Update backend `ALLOWED_ORIGINS` with frontend URL
2. Redeploy backend

### 3. Test Application
- [ ] Visit frontend URL
- [ ] Login successfully
- [ ] Check avatar images load
- [ ] Test API calls
- [ ] Check WebSocket connections (chat)

## 🔒 Security Checklist

- [ ] SECRET_KEY changed from default
- [ ] Default admin password changed after first login
- [ ] CORS restricted to production frontend URL only
- [ ] Database backups configured (if using PostgreSQL)

## 📌 Important URLs

### Backend
- **Local**: `http://localhost:8000`
- **Production**: `https://your-backend-name.onrender.com`

### Frontend
- **Local**: `http://localhost:3000`
- **Production**: `https://your-frontend-name.onrender.com`

## 🔧 Environment Variables

### Backend Required
```bash
SECRET_KEY=<auto-generated>
ALLOWED_ORIGINS=https://your-frontend.onrender.com
```

### Frontend Required
```bash
REACT_APP_API_URL=https://your-backend.onrender.com
```

## ⚠️ Known Issues

### Free Tier
- Services sleep after 15 min inactivity
- First request takes 30-60 seconds
- SQLite data may reset on restart

### Solutions
- Upgrade to paid tier for always-on
- Use PostgreSQL for persistent data
- Implement health check pings

## 📚 Documentation

- Detailed Guide: `DEPLOYMENT_GUIDE.md`
- Quick Start: `QUICK_DEPLOY.md`
- Render Docs: https://render.com/docs

## ✅ Post-Deployment

- [ ] Change default admin password
- [ ] Create user accounts
- [ ] Configure departments
- [ ] Test all features
- [ ] Monitor logs for errors

---

**Deployment configured and ready! 🎉**

